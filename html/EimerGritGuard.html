<!DOCTYPE html>
<html lang="de">

<head>
  <link rel="stylesheet" href="Stylesheet.css">
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>EimerGritGuard</title>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
  <link rel="stylesheet" href="../css/bootstrap.css">
  <link rel="stylesheet" href="../css/Stylesheet.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/ionicons/2.0.1/css/ionicons.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.1.3/js/bootstrap.bundle.min.js"></script>
</head>

<body>
  <div class="pointer">
    <div id="Verkauf1_Logo" class="logo" onclick="window.location.href='start.html'">
    </div>
  </div>
  <nav>
    <ul>
      <li><a class="navi" href="start.html">Startseite</a></li>
      <li><a id="Verkauf1_Handwäsche" class="navi" href="Verkauf1.html">
        </a></li>
      <li id="Verkauf1_Polituren_und_Poliermaschinen">
      </li>
      <li id="Verkauf1_Versiegelungen_und_Wachse">
      </li>
      <li><a class="navi" href="Warenkorb.html">Warenkorb</a></li>
    </ul>
  </nav>
  <div class="currentposition">
    <h7 id="EimerGritGuard_Name">
    </h7>
  </div>
  <div class="container wasdienedgeschafthaben">
    <div class="row">
      <table>
        <tr>
          <td>
            <div class="product-grid2">
              <div id="EimerGritGuard_Pictures" class="product-image2">
              </div>
            </div>
          </td>
          <td id="EimerGritGuard_Details" class="großeschrift">
          </td>
          <td class="großeschrift">Stückzahl: <br><input id="userInput" step="1" data-step-max="10" type="number" value="0" data-decimals="0" min="0" max="360" class="col-3" /> <br><br><button id="addProduct" onclick="Input1()">In den
              </br>Warenkorb</button></td>
        </tr>
      </table>
      <div class="container wasdienedgeschafthaben">
        <h8><b>Artikelbeschreibung:</b></h8><br><br>
        <div id="EimerGritGuard_beschreibunggross">
        </div>
      </div>

    </div>
  </div>
  <!-- footer -->
  <div class="footer-basic">
    <footer>
      <p>Marcus, Fabian, Leon, Caspar © 2020 Webanwendung2 <br> <a href="Impressum.html">Impressum</a> | <a href="Kontakt.html">Kontakt</a> </p>
    </footer>
  </div>
</body>

</html>


<!--------------------------------------------------------------------------------------------------------------------->

<script>
  $(document).ready(function() {

    //AJAX for the logo
    //-------------------------------------------------------------------------------------------------------------------------
    $.ajax({
      url: "http://localhost:8000/api/produkt/gib/19",
      method: "get",
      dataType: "json"
    }).done(function(response) {
      var tmp = '<img src="' + response.daten.bilder[0].bildpfad + '">';
      $('#Verkauf1_Logo').html(tmp);

    }).fail(function(jqXHR, statusText, error) {
      console.log("Response Code: " + jqXHR.status + " - Fehlermeldung: " + jqXHR.responseText);
      $("#output").html("Ein Fehler ist aufgetreten");
    });
    //AJAX for the NAVBAR
    //---------------------------------------------------------------------------------------------------------------------------
    $.ajax({
      url: "http://localhost:8000/api/produktkategorie/gib/1",
      method: "get",
      dataType: "json"
    }).done(function(response) {
      var tmp = response.daten.bezeichnung;
      $('#Verkauf1_Handwäsche').html(tmp);

    }).fail(function(jqXHR, statusText, error) {
      console.log("Response Code: " + jqXHR.status + " - Fehlermeldung: " + jqXHR.responseText);
      $("#output").html("Ein Fehler ist aufgetreten");
    });
    //##########################################################################################
    $.ajax({
      url: "http://localhost:8000/api/produktkategorie/gib/2",
      method: "get",
      dataType: "json"
    }).done(function(response) {
      var tmp = '<a class="navi" href="Verkauf2.html">' + response.daten.bezeichnung + '</a>';
      $('#Verkauf1_Polituren_und_Poliermaschinen').html(tmp);

    }).fail(function(jqXHR, statusText, error) {
      console.log("Response Code: " + jqXHR.status + " - Fehlermeldung: " + jqXHR.responseText);
      $("#output").html("Ein Fehler ist aufgetreten");
    });
    //##########################################################################################
    $.ajax({
      url: "http://localhost:8000/api/produktkategorie/gib/3",
      method: "get",
      dataType: "json"
    }).done(function(response) {
      var tmp = '<a class="navi" href="Verkauf3.html">' + response.daten.bezeichnung + '</a>';
      $('#Verkauf1_Versiegelungen_und_Wachse').html(tmp);

    }).fail(function(jqXHR, statusText, error) {
      console.log("Response Code: " + jqXHR.status + " - Fehlermeldung: " + jqXHR.responseText);
      $("#output").html("Ein Fehler ist aufgetreten");
    });

    //AJAX for the Productinformation
    //----------------------------------------------------------------------------------------------------------------------------------
    $.ajax({
      url: "http://localhost:8000/api/produkt/gib/12",
      method: "get",
      dataType: "json"
    }).done(function(response) {
      var name = response.daten.name;
      var pics = '<img class="pic-1" src="' + response.daten.bilder[0].bildpfad + '"><img class="pic-2" src="' + response.daten.bilder[1].bildpfad + '">';

      var aufLager = response.daten.auflager;
      if (aufLager) {
        aufLager = "Auf Lager";
      } else {
        aufLager = "Nicht auf Lager"
      }
      var details = 'Preis: ' + response.daten.bruttopreis.toString().replace(".", ",") + ' € inkl. MwSt.<br>Status: ' + aufLager + '<br>Versandkostenfrei<br>Lieferzeit: 1-3 Werktage';

      var beschreibung = response.daten.beschreibunggross;

      $('#EimerGritGuard_Name').html(name);
      $('#EimerGritGuard_Pictures').html(pics);
      $('#EimerGritGuard_Details').html(details);
      $('#EimerGritGuard_beschreibunggross').html(beschreibung);



    }).fail(function(jqXHR, statusText, error) {
      console.log("Response Code: " + jqXHR.status + " - Fehlermeldung: " + jqXHR.responseText);
      $("#output").html("Ein Fehler ist aufgetreten");
    });

  });
</script>
