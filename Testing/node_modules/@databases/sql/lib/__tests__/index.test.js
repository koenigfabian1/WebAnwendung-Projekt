"use strict";

Object.defineProperty(exports, "__esModule", { value: true });
const __1 = require("../");
test('correctly renders sql', () => {
  const query = __1.default`
      SELECT *
      FROM foo
      WHERE id = ${10}
      AND created_at > ${new Date(1545238400939)};
  `;
  expect(query.compile()).toMatchInlineSnapshot(`
Object {
  "text": "SELECT * FROM foo WHERE id = $1 AND created_at > $2;",
  "values": Array [
    10,
    2018-12-19T16:53:20.939Z,
  ],
}
`);
});
test('can join parts of query', () => {
  const conditions = [__1.default`id = ${10}`, __1.default`created_at > ${new Date(1545238400939)}`];
  const query = __1.default`
      SELECT *
      FROM foo
      WHERE ${__1.default.join(conditions, __1.default` AND `)};
  `;
  expect(query.compile()).toMatchInlineSnapshot(`
Object {
  "text": "SELECT * FROM foo WHERE id = $1 AND created_at > $2;",
  "values": Array [
    10,
    2018-12-19T16:53:20.939Z,
  ],
}
`);
});
test('can read in a file', () => {
  const query = __1.default.file(`${__dirname}/fixture.sql`);
  expect(query.compile()).toMatchInlineSnapshot(`
Object {
  "text": "SELECT * FROM my_table;",
  "values": Array [],
}
`);
});
//# sourceMappingURL=index.test.js.map